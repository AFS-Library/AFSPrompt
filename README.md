# [Axiomatic Fuzzy Set Prompt Task]

## Project Structure
```plantuml
AFSPrompt/
├── AFS_rerank_system/
│   ├── candidate_rerank/
│   └── score_module/
├── examples_filter/
├── dataset/
├── asserts/
├── examples_filter
├── models/
├── outputs/
├── AFS_prompting/
├── utils/
└── README.md
```
## Description

AFSPrompt4vqa is a project designed to handle various tasks related to Visual Question Answering (VQA) datasets. It includes modules such as:
- `AFS_rerank_system`: This module is responsible for scoring candidates and reranking them.
- `examples_filter`: This module is used for filtering examples using CLIP models.
- `dataset`: This directory contains the datasets used in this framework.
- `asserts`: This directory stores intermediate data.
- `models`: This directory contains the models used in the framework.
- `outputs`: This directory stores the output files generated by the framework.
- `AFS_prompting`: This module handles the prompting system for AFS.
- `utils`: This directory contains utility functions and scripts used throughout the project.

## Installation

To install the required dependencies, run:

```bash
pip install -r requirements.txt
```
## Usage

### Dataset
This framework can be applied to some VQA datasets, such as OK-VQA, A-OKVQA, TextVQA, and FVQA.
In addition, in our framework, the training set is used as a candidate set of demonstration examples.

### Examples Filter
This module provides scripts and configurations for handling candidate examples using `CLIP` or `MCAN` models.  
For related implementations, see: [https://github.com/microsoft/PICa](https://github.com/microsoft/PICa) [https://github.com/MILVLG/prophet](https://github.com/MILVLG/prophet)

### Feature processing
The features used in this framework are question (Q), Caption (C), optional feature tag (T), pre-answer (A) and knowledge (K).
- **Question(Q)**: Q from the original Q&A pair.
- **Caption(C)**: C from image related to the original Q&A pair by `PromptCap`.
- Optional feature:
  - **Tag(T)**: T from image related to the original Q&A pair by Azure Tagging API.
  - **Pre-answer(A)**: A from the original Q&A pair, which is the answer of the question in the training set. The test sample's pre-answer can be generate VQA model. 
  - **Knowledge(K)**: K is a knowledge base used for answering questions, for example, generated by ChatGPT.

### AFS rerank system
The `AFS rerank system` directory contains modules for assertion and scoring. 
- `example rerank module` is used for reranking examples.
- `score module` is used for scoring the generated examples.

For the Matlab implementation of AFS theory, please refer to: https://github.com/xdliuafs/AFS

### AFS Prompting
This module implements the AFS prompting system and supports various small large language models (such as Mistral, Llama, Gemma) as knowledge engines.  
For related implementations, see: https://github.com/MILVLG/prophet

## Acknowledgements
This project is developed based on [https://github.com/MILVLG/prophet](https://github.com/MILVLG/prophet).

## Code update progress
- [x] Organize project structure and main modules
- [ ] Internal code testing and optimization
- [x] Write main documentation (README, usage instructions, etc.)
- [ ] Code release (to be made public after paper acceptance)
- [ ] Release example data and configurations

```bibte

```




